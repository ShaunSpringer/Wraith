<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Wraith by ShaunSpringer</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Wraith</h1>
        <p>An MVC framework based off a few different pieces of frameworks that I really liked.  Credit to AngularJS, Backbone, Spine for inspiration.</p>

        <p class="view"><a href="https://github.com/ShaunSpringer/Wraith">View the Project on GitHub <small>ShaunSpringer/Wraith</small></a></p>


        <ul>
          <li><a href="https://github.com/ShaunSpringer/Wraith/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/ShaunSpringer/Wraith/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/ShaunSpringer/Wraith">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <p><img src="http://github.com/shaunspringer/wraith/raw/master/assets/wraith.gif" alt="Wraith v0.1.0" title="Wraith v0.1b"></p>

<h2>
<a name="wraith-v010-" class="anchor" href="#wraith-v010-"><span class="octicon octicon-link"></span></a>Wraith v0.1.0 <a href="https://travis-ci.org/ShaunSpringer/Wraith"><img src="https://travis-ci.org/ShaunSpringer/Wraith.png?branch=master" alt="Build Status"></a>
</h2>

<h4>
<a name="created-by-shaun-springer" class="anchor" href="#created-by-shaun-springer"><span class="octicon octicon-link"></span></a>Created by Shaun Springer</h4>

<h4>
<a name="meet-wraith" class="anchor" href="#meet-wraith"><span class="octicon octicon-link"></span></a>Meet Wraith</h4>

<p>Wraith was a project I thought up several months ago out of my frustrations with the current MV* frameworks available on the internet. I was working on a few small, single page applications and was testing different frameworks to see which suit my needs. I used Backbone, Spine, Angular, and a few others that didn’t quite fit the bill. What I wanted was a framework that bound the data to the view, something I call implicit model-view binding, but required no logic to be present inside the views.</p>

<p>For all intents and purposes, Angular does provide this level of functionality, and so does Backbone, with the help from a variety of different plugins. But Angular is rather big, has a pretty steep learning curve, and doesn’t enforce logicless views (something I feel is extremely important in such a framework), and Backbone takes a bit of finagling to get anything to work quite right. Additionally all of these frameworks work best when used with a library like jQuery, or Zepto to handle event delegation and DOM manipulation.</p>

<h4>
<a name="why-make-another-mv-framework" class="anchor" href="#why-make-another-mv-framework"><span class="octicon octicon-link"></span></a>Why make another MV* Framework?</h4>

<p>I wrote Wraith because wanted a MV* framework that didn’t depend on any external libraries, had Angular-like Model-View binding, and was super lightweight and easy to understand. Additionally I wanted to write this framework in CoffeeScript since it is easy to read, has powerful array comprehension, and is just a ton of fun to write in.</p>

<p>Along the way I sought inspiration from Spine, Backbone and Angular, mixing Spine-style Models and Collections, Angular style directives, with Backbone style templating (a la Handlebars). All of these inspirations make Wraith a unique experience, but still feeling incredibly familiar to most frontend developers.</p>

<h4>
<a name="what-makes-wraith-different" class="anchor" href="#what-makes-wraith-different"><span class="octicon octicon-link"></span></a>What makes Wraith different?</h4>

<p>Wraith is completely self contained. You need nothing else to get started creating a basic single page application. I say basic because the framework is very much in its infancy. It does not have support for URL routing, AJAX requests, animations, or persistent storage.  All things I hope to accomplish in the near future.</p>

<p>Now that I have identified what Wraith doesn’t have, lets talk about what it does well.</p>

<ul>
<li>Implicit Model-View binding</li>
<li>Controllers that are also views (a la View-Controller pattern)</li>
<li>Handlebars-esque logicless templating</li>
<li>Template declaration directly in the DOM that doesn’t require a compilation process</li>
<li>Event binding directly from the DOM, instead of requiring JS to do so</li>
<li>Partial view updating (only update elements that changed)</li>
<li>Well under 20kb when minified</li>
</ul><h4>
<a name="how-to-get-started-with-wraith" class="anchor" href="#how-to-get-started-with-wraith"><span class="octicon octicon-link"></span></a>How to get started with wraith?</h4>

<p>Wraith is declarative, in that much of the heavy lifting -- data and event binding, class and text manipulation -- happens directly in the markup (HTML). Your controller is initialized from the DOM directly, so when you create your app it’ll look something like this:</p>

<div class="highlight"><pre><span class="nt">&lt;section</span> <span class="na">data-controller=</span><span class="s">”App.MainController”</span><span class="nt">&gt;</span>
  …
<span class="nt">&lt;/section&gt;</span>
</pre></div>

<p>Wraith will require you to create an App.MainController object in the global namespace, that it will find, and create an instance of, binding it to the element that its defined on (in this case, section).</p>

<div class="highlight"><pre><span class="kd">var</span> <span class="nx">App</span> <span class="o">=</span> <span class="p">{};</span>
<span class="nx">App</span><span class="p">.</span><span class="nx">MainController</span> <span class="o">=</span> <span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">_super</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">function</span> <span class="nx">MainController</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">_super</span><span class="p">.</span><span class="nx">call</span><span class="p">();</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">registerModel</span><span class="p">(</span><span class="nx">App</span><span class="p">.</span><span class="nx">List</span><span class="p">,</span> <span class="err">‘</span><span class="nx">list</span><span class="err">’</span><span class="p">)</span> <span class="err">#</span> <span class="nx">Register</span> <span class="nx">our</span> <span class="nx">model</span> <span class="nx">as</span> <span class="k">this</span><span class="p">.</span><span class="nx">list</span>
    <span class="p">}</span>
    <span class="nx">MainController</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">onCheckboxClick</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">alert</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nx">MainController</span><span class="p">;</span>
<span class="p">})(</span><span class="nx">Wraith</span><span class="p">.</span><span class="nx">Controller</span><span class="p">);</span>
</pre></div>

<p>Before Wraith will do anything though, you must initialize its bootloader. This will start the controller initialization.</p>

<div class="highlight"><pre><span class="nt">&lt;script </span><span class="na">type=</span><span class="s">”text/javascript”</span><span class="nt">&gt;</span>
    <span class="k">new</span> <span class="nx">Wraith</span><span class="p">.</span><span class="nx">Bootloader</span><span class="p">();</span> <span class="c1">// My app is starting!</span>
<span class="nt">&lt;/script&gt;</span>
</pre></div>

<h4>
<a name="event-handling" class="anchor" href="#event-handling"><span class="octicon octicon-link"></span></a>Event Handling</h4>

<p>In Wraith, you are required to create event handlers in your controllers, but you bind them to events inside the DOM structure like so:</p>

<div class="highlight"><pre><span class="nt">&lt;section</span> <span class="na">data-controller=</span><span class="s">”App.MainController”</span><span class="nt">&gt;</span>
    <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">”text”</span> <span class="na">data-events=</span><span class="s">”keypress;onCheckboxKeypress”</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">data-bind=</span><span class="s">”list.items”</span> <span class="na">data-repeat</span><span class="nt">&gt;</span>
        {{text}}
    <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/section&gt;</span>
</pre></div>

<p>Now when the text input is typed into, the onCheckboxKeypress method on App.MainController will be invoked.</p>

<h4>
<a name="models-and-collections" class="anchor" href="#models-and-collections"><span class="octicon octicon-link"></span></a>Models and Collections</h4>

<p>I really enjoyed working with Models in Spine when compared to other frameworks, and thus Wraith’s models are similar in design. You can create a new model with default values easily:</p>

<div class="highlight"><pre><span class="nx">App</span><span class="p">.</span><span class="nx">ListItem</span> <span class="o">=</span> <span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">_super</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">function</span> <span class="nx">ListItem</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">_super</span><span class="p">.</span><span class="nx">call</span><span class="p">();</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">field</span><span class="p">(</span><span class="s1">'text'</span><span class="p">,</span> <span class="p">{</span> <span class="k">default</span><span class="o">:</span> <span class="s1">'New Item'</span> <span class="p">};</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">field</span><span class="p">(</span><span class="s1">'selected'</span><span class="p">,</span> <span class="p">{</span> <span class="k">default</span><span class="o">:</span> <span class="kc">false</span> <span class="p">};</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nx">ListItem</span><span class="p">;</span>
<span class="p">})(</span><span class="nx">Wraith</span><span class="p">.</span><span class="nx">Model</span><span class="p">);</span>
</pre></div>

<p>Collections can be done similarly:</p>

<div class="highlight"><pre><span class="nx">App</span><span class="p">.</span><span class="nx">List</span> <span class="o">=</span> <span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">_super</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">function</span> <span class="nx">List</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">_super</span><span class="p">.</span><span class="nx">call</span><span class="p">();</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">hasMany</span><span class="p">(</span><span class="nx">App</span><span class="p">.</span><span class="nx">ListItem</span><span class="p">,</span> <span class="s1">'items'</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nx">List</span><span class="p">;</span>
<span class="p">})(</span><span class="nx">Wraith</span><span class="p">.</span><span class="nx">Model</span><span class="p">);</span>
</pre></div>

<h4>
<a name="data-binding" class="anchor" href="#data-binding"><span class="octicon octicon-link"></span></a>Data Binding</h4>

<p>One of the most important things I tried to accomplish with Wraith was easy data binding. I didn’t want to write logic in my views, so I needed to handle looping over collections as well as showing and hiding views or partial views. The solution was to allow a view to be bound via dot-notation to a property on a model similar to what Angular does.</p>

<div class="highlight"><pre><span class="nt">&lt;section</span> <span class="na">data-controller=</span><span class="s">”App.MainController”</span><span class="nt">&gt;</span>
    <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">”text”</span> <span class="na">data-events=</span><span class="s">”keypress;onCheckboxKeypress”</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">data-bind=</span><span class="s">”list.items”</span> <span class="na">data-repeat</span><span class="nt">&gt;</span>
        {{text}}
    <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/section&gt;</span>
</pre></div>

<p>This will bind the input to the list property on your controller (App.MainController). Every time the list.items property changes, the view will automatically be updated (and in this case, repeated as a list).</p>

<h4>
<a name="class-binding" class="anchor" href="#class-binding"><span class="octicon octicon-link"></span></a>Class Binding</h4>

<p>Want to hide or show something? Instead of writing logic in javascript to hide and show an element or alter its class attributes, you can use data or methods from your models to alter the class structure.</p>

<div class="highlight"><pre><span class="nt">&lt;section</span> <span class="na">data-controller=</span><span class="s">”App.MainController”</span><span class="nt">&gt;</span>
<span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">”text”</span> <span class="na">data-events=</span><span class="s">”keypress;onCheckboxKeypress”</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">data-bind=</span><span class="s">”list.items”</span> <span class="na">data-repeat</span><span class="nt">&gt;</span>
        <span class="nt">&lt;span</span> <span class="na">data-class=</span><span class="s">”highlight:selected”</span><span class="nt">&gt;</span>
            {{text}}
        <span class="nt">&lt;/span&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/section&gt;</span>
</pre></div>

<p>When selected is true, the class highlight will be applied to the span surround our text.</p>

<h2>
<a name="building-and-testing" class="anchor" href="#building-and-testing"><span class="octicon octicon-link"></span></a>Building and Testing</h2>

<p>In order to build Wraith you will have to install several dependencies, do this with node (npm).</p>

<p>To install all the dependencies to build and run wraith, clone or fork this repository, and then run</p>

<pre><code>sudo npm install
</code></pre>

<p>This will run the installation file for the node dependencies. Next run</p>

<pre><code>cake build
</code></pre>

<p>Which will build the source files, tests, and examples</p>

<p>To run the tests or view the examples, use</p>

<pre><code>cake server
</code></pre>

<p>This will start a server on port 8000. Tests are located at <a href="http://localhost:8000/tests/SpecRunner.html">http://localhost:8000/tests/SpecRunner.html</a></p>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/ShaunSpringer">ShaunSpringer</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
    
  </body>
</html>